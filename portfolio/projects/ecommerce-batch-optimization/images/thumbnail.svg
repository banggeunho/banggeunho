<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" width="800" height="450">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0d1117"/>
      <stop offset="100%" stop-color="#161b22"/>
    </linearGradient>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#21262d" stroke-width="0.5"/>
    </pattern>

    <!-- Flow animation paths: Source → Batch -->
    <path id="f1" d="M182,115 L368,115" fill="none"/>
    <path id="f2" d="M182,175 L368,175" fill="none"/>
    <path id="f3" d="M182,235 L368,235" fill="none"/>
    <!-- Flow animation paths: Batch → DB -->
    <path id="f4" d="M432,115 L608,145" fill="none"/>
    <path id="f5" d="M432,175 L608,145" fill="none"/>
    <path id="f6" d="M432,175 L608,210" fill="none"/>
    <path id="f7" d="M432,235 L608,210" fill="none"/>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="url(#bg)"/>
  <rect width="800" height="450" fill="url(#grid)" opacity="0.3"/>

  <!-- Floating particles -->
  <circle cx="120" cy="60" r="1.5" fill="#6DB33F" opacity="0.4">
    <animate attributeName="cy" values="60;45;60" dur="4s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.3;0.6;0.3" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle cx="680" cy="80" r="2" fill="#58a6ff" opacity="0.3">
    <animate attributeName="cy" values="80;95;80" dur="5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.2;0.5;0.2" dur="5s" repeatCount="indefinite"/>
  </circle>
  <circle cx="720" cy="310" r="1.5" fill="#6DB33F" opacity="0.3">
    <animate attributeName="cy" values="310;295;310" dur="4.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.3;0.5;0.3" dur="4.5s" repeatCount="indefinite"/>
  </circle>
  <circle cx="80" cy="320" r="2" fill="#58a6ff" opacity="0.3">
    <animate attributeName="cy" values="320;335;320" dur="5.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.2;0.5;0.2" dur="5.5s" repeatCount="indefinite"/>
  </circle>

  <!-- ===== ARROW LINES ===== -->

  <!-- Source → Batch (horizontal, 3 lines) -->
  <line x1="182" y1="115" x2="368" y2="115" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="182" y1="175" x2="368" y2="175" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="182" y1="235" x2="368" y2="235" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>

  <!-- Batch → DB (converging, 4 lines) -->
  <line x1="432" y1="115" x2="608" y2="145" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="432" y1="175" x2="608" y2="145" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="432" y1="175" x2="608" y2="210" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="432" y1="235" x2="608" y2="210" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>

  <!-- ===== FLOW DOTS ===== -->

  <!-- Source → Batch (green dots) -->
  <circle r="3.5" fill="#6DB33F" opacity="0.8">
    <animateMotion dur="1.8s" repeatCount="indefinite"><mpath href="#f1"/></animateMotion>
  </circle>
  <circle r="3.5" fill="#6DB33F" opacity="0.8">
    <animateMotion dur="1.8s" begin="0.4s" repeatCount="indefinite"><mpath href="#f2"/></animateMotion>
  </circle>
  <circle r="3.5" fill="#6DB33F" opacity="0.8">
    <animateMotion dur="1.8s" begin="0.8s" repeatCount="indefinite"><mpath href="#f3"/></animateMotion>
  </circle>

  <!-- Batch → DB (blue dots) -->
  <circle r="3" fill="#58a6ff" opacity="0.8">
    <animateMotion dur="1.5s" begin="0.2s" repeatCount="indefinite"><mpath href="#f4"/></animateMotion>
  </circle>
  <circle r="3" fill="#58a6ff" opacity="0.8">
    <animateMotion dur="1.5s" begin="0.6s" repeatCount="indefinite"><mpath href="#f5"/></animateMotion>
  </circle>
  <circle r="3" fill="#58a6ff" opacity="0.8">
    <animateMotion dur="1.5s" begin="1s" repeatCount="indefinite"><mpath href="#f6"/></animateMotion>
  </circle>
  <circle r="3" fill="#58a6ff" opacity="0.8">
    <animateMotion dur="1.5s" begin="1.4s" repeatCount="indefinite"><mpath href="#f7"/></animateMotion>
  </circle>

  <!-- ===== SOURCE NODES (Sellers - Shopping Bag) ===== -->

  <!-- Source 1 -->
  <g transform="translate(155, 115)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#d2a8ff" stroke-width="1.5"/>
    <g transform="scale(0.9) translate(-12, -12)">
      <rect x="5" y="9" width="14" height="12" rx="2" fill="none" stroke="#d2a8ff" stroke-width="1.8"/>
      <path d="M9 9V7a3 3 0 0 1 6 0v2" fill="none" stroke="#d2a8ff" stroke-width="1.8" stroke-linecap="round"/>
    </g>
  </g>

  <!-- Source 2 -->
  <g transform="translate(155, 175)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#d2a8ff" stroke-width="1.5"/>
    <g transform="scale(0.9) translate(-12, -12)">
      <rect x="5" y="9" width="14" height="12" rx="2" fill="none" stroke="#d2a8ff" stroke-width="1.8"/>
      <path d="M9 9V7a3 3 0 0 1 6 0v2" fill="none" stroke="#d2a8ff" stroke-width="1.8" stroke-linecap="round"/>
    </g>
  </g>

  <!-- Source 3 -->
  <g transform="translate(155, 235)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#d2a8ff" stroke-width="1.5"/>
    <g transform="scale(0.9) translate(-12, -12)">
      <rect x="5" y="9" width="14" height="12" rx="2" fill="none" stroke="#d2a8ff" stroke-width="1.8"/>
      <path d="M9 9V7a3 3 0 0 1 6 0v2" fill="none" stroke="#d2a8ff" stroke-width="1.8" stroke-linecap="round"/>
    </g>
  </g>

  <!-- ===== BATCH NODES (Spring Boot) ===== -->

  <!-- Batch 1 -->
  <g transform="translate(400, 115)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#6DB33F" stroke-width="1.5"/>
    <g transform="scale(0.85) translate(-12, -12)">
      <path d="m23.693 10.7058-4.73-8.1844c-.4094-.7106-1.4166-1.2942-2.2402-1.2942H7.2725c-.819 0-1.8308.5836-2.2402 1.2942L.307 10.7058c-.4095.7106-.4095 1.873 0 2.5837l4.7252 8.189c.4094.7107 1.4166 1.2943 2.2402 1.2943h9.455c.819 0 1.826-.5836 2.2402-1.2942l4.7252-8.189c.4095-.7107.4095-1.8732 0-2.5838zM10.9763 5.7547c0-.5365.4377-.9742.9742-.9742s.9742.4377.9742.9742v5.8217c0 .5366-.4377.9742-.9742.9742s-.9742-.4376-.9742-.9742zm.9742 12.4294c-3.6427 0-6.6077-2.965-6.6077-6.6077.0047-2.0896.993-4.0521 2.6685-5.304a.8657.8657 0 0 1 1.2142.1788.8657.8657 0 0 1-.1788 1.2143c-2.1602 1.6048-2.612 4.6592-1.0072 6.8194 1.6049 2.1603 4.6593 2.612 6.8195 1.0072 1.2378-.9177 1.9673-2.372 1.9673-3.9157a4.8972 4.8972 0 0 0-1.9861-3.925c-.386-.2824-.466-.8284-.1836-1.2143.2824-.386.8283-.466 1.2143-.1835 1.6895 1.2471 2.6826 3.2238 2.6873 5.3228 0 3.6474-2.965 6.6077-6.6077 6.6077z" fill="#6DB33F"/>
    </g>
  </g>

  <!-- Batch 2 -->
  <g transform="translate(400, 175)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#6DB33F" stroke-width="1.5"/>
    <g transform="scale(0.85) translate(-12, -12)">
      <path d="m23.693 10.7058-4.73-8.1844c-.4094-.7106-1.4166-1.2942-2.2402-1.2942H7.2725c-.819 0-1.8308.5836-2.2402 1.2942L.307 10.7058c-.4095.7106-.4095 1.873 0 2.5837l4.7252 8.189c.4094.7107 1.4166 1.2943 2.2402 1.2943h9.455c.819 0 1.826-.5836 2.2402-1.2942l4.7252-8.189c.4095-.7107.4095-1.8732 0-2.5838zM10.9763 5.7547c0-.5365.4377-.9742.9742-.9742s.9742.4377.9742.9742v5.8217c0 .5366-.4377.9742-.9742.9742s-.9742-.4376-.9742-.9742zm.9742 12.4294c-3.6427 0-6.6077-2.965-6.6077-6.6077.0047-2.0896.993-4.0521 2.6685-5.304a.8657.8657 0 0 1 1.2142.1788.8657.8657 0 0 1-.1788 1.2143c-2.1602 1.6048-2.612 4.6592-1.0072 6.8194 1.6049 2.1603 4.6593 2.612 6.8195 1.0072 1.2378-.9177 1.9673-2.372 1.9673-3.9157a4.8972 4.8972 0 0 0-1.9861-3.925c-.386-.2824-.466-.8284-.1836-1.2143.2824-.386.8283-.466 1.2143-.1835 1.6895 1.2471 2.6826 3.2238 2.6873 5.3228 0 3.6474-2.965 6.6077-6.6077 6.6077z" fill="#6DB33F"/>
    </g>
  </g>

  <!-- Batch 3 -->
  <g transform="translate(400, 235)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#6DB33F" stroke-width="1.5"/>
    <g transform="scale(0.85) translate(-12, -12)">
      <path d="m23.693 10.7058-4.73-8.1844c-.4094-.7106-1.4166-1.2942-2.2402-1.2942H7.2725c-.819 0-1.8308.5836-2.2402 1.2942L.307 10.7058c-.4095.7106-.4095 1.873 0 2.5837l4.7252 8.189c.4094.7107 1.4166 1.2943 2.2402 1.2943h9.455c.819 0 1.826-.5836 2.2402-1.2942l4.7252-8.189c.4095-.7107.4095-1.8732 0-2.5838zM10.9763 5.7547c0-.5365.4377-.9742.9742-.9742s.9742.4377.9742.9742v5.8217c0 .5366-.4377.9742-.9742.9742s-.9742-.4376-.9742-.9742zm.9742 12.4294c-3.6427 0-6.6077-2.965-6.6077-6.6077.0047-2.0896.993-4.0521 2.6685-5.304a.8657.8657 0 0 1 1.2142.1788.8657.8657 0 0 1-.1788 1.2143c-2.1602 1.6048-2.612 4.6592-1.0072 6.8194 1.6049 2.1603 4.6593 2.612 6.8195 1.0072 1.2378-.9177 1.9673-2.372 1.9673-3.9157a4.8972 4.8972 0 0 0-1.9861-3.925c-.386-.2824-.466-.8284-.1836-1.2143.2824-.386.8283-.466 1.2143-.1835 1.6895 1.2471 2.6826 3.2238 2.6873 5.3228 0 3.6474-2.965 6.6077-6.6077 6.6077z" fill="#6DB33F"/>
    </g>
  </g>

  <!-- ===== DB NODES (Database Cylinder) ===== -->

  <!-- DB 1 -->
  <g transform="translate(640, 145)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#58a6ff" stroke-width="1.5"/>
    <g transform="translate(-11, -11) scale(0.92)">
      <ellipse cx="12" cy="6.5" rx="7.5" ry="3.2" fill="#58a6ff" opacity="0.9"/>
      <rect x="4.5" y="6.5" width="15" height="11" fill="#58a6ff" opacity="0.5"/>
      <ellipse cx="12" cy="17.5" rx="7.5" ry="3.2" fill="#58a6ff" opacity="0.9"/>
      <ellipse cx="12" cy="12" rx="7.5" ry="2.5" fill="none" stroke="#161b22" stroke-width="1" opacity="0.4"/>
    </g>
  </g>

  <!-- DB 2 -->
  <g transform="translate(640, 210)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#58a6ff" stroke-width="1.5"/>
    <g transform="translate(-11, -11) scale(0.92)">
      <ellipse cx="12" cy="6.5" rx="7.5" ry="3.2" fill="#58a6ff" opacity="0.9"/>
      <rect x="4.5" y="6.5" width="15" height="11" fill="#58a6ff" opacity="0.5"/>
      <ellipse cx="12" cy="17.5" rx="7.5" ry="3.2" fill="#58a6ff" opacity="0.9"/>
      <ellipse cx="12" cy="12" rx="7.5" ry="2.5" fill="none" stroke="#161b22" stroke-width="1" opacity="0.4"/>
    </g>
  </g>

  <!-- ===== COLUMN LABELS ===== -->
  <text x="155" y="290" font-family="'Inter', sans-serif" font-size="12" fill="#8b949e" text-anchor="middle">커머스</text>
  <text x="400" y="290" font-family="'Inter', sans-serif" font-size="12" fill="#8b949e" text-anchor="middle">Spring Batch</text>
  <text x="640" y="258" font-family="'Inter', sans-serif" font-size="12" fill="#8b949e" text-anchor="middle">Database</text>

  <!-- Title -->
  <text x="400" y="370" font-family="'Inter', -apple-system, BlinkMacSystemFont, sans-serif" font-size="32" font-weight="700" fill="#e6edf3" text-anchor="middle">배치 최적화</text>

  <!-- Accent line -->
  <line x1="355" y1="388" x2="445" y2="388" stroke="#6DB33F" stroke-width="2" opacity="0.4" stroke-linecap="round"/>
</svg>
