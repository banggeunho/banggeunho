<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450" width="800" height="450">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0d1117"/>
      <stop offset="100%" stop-color="#161b22"/>
    </linearGradient>
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#21262d" stroke-width="0.5"/>
    </pattern>

    <!-- Flow paths (Firehose → Lambda → S3 → Redshift) -->
    <path id="f1" d="M140,160 L280,160" fill="none"/>
    <path id="f2" d="M330,160 L470,160" fill="none"/>
    <path id="f3" d="M520,160 L660,160" fill="none"/>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="url(#bg)"/>
  <rect width="800" height="450" fill="url(#grid)" opacity="0.3"/>

  <!-- Floating particles -->
  <circle cx="120" cy="60" r="1.5" fill="#FF9900" opacity="0.4">
    <animate attributeName="cy" values="60;45;60" dur="4s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.3;0.6;0.3" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle cx="700" cy="80" r="2" fill="#58a6ff" opacity="0.3">
    <animate attributeName="cy" values="80;95;80" dur="5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.2;0.5;0.2" dur="5s" repeatCount="indefinite"/>
  </circle>
  <circle cx="720" cy="310" r="1.5" fill="#FF9900" opacity="0.3">
    <animate attributeName="cy" values="310;295;310" dur="4.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.3;0.5;0.3" dur="4.5s" repeatCount="indefinite"/>
  </circle>
  <circle cx="80" cy="320" r="2" fill="#58a6ff" opacity="0.3">
    <animate attributeName="cy" values="320;335;320" dur="5.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.2;0.5;0.2" dur="5.5s" repeatCount="indefinite"/>
  </circle>

  <!-- ===== ARROW LINES (→ direction) ===== -->
  <line x1="140" y1="160" x2="280" y2="160" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="330" y1="160" x2="470" y2="160" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>
  <line x1="520" y1="160" x2="660" y2="160" stroke="#30363d" stroke-width="1.5" stroke-dasharray="6,4">
    <animate attributeName="stroke-dashoffset" from="0" to="-10" dur="0.8s" repeatCount="indefinite"/>
  </line>

  <!-- ===== FLOW DOTS ===== -->
  <circle r="3.5" fill="#FF9900" opacity="0.8">
    <animateMotion dur="1.8s" repeatCount="indefinite"><mpath href="#f1"/></animateMotion>
  </circle>
  <circle r="3.5" fill="#FF9900" opacity="0.8">
    <animateMotion dur="1.8s" begin="0.3s" repeatCount="indefinite"><mpath href="#f2"/></animateMotion>
  </circle>
  <circle r="3.5" fill="#FF9900" opacity="0.8">
    <animateMotion dur="1.8s" begin="0.6s" repeatCount="indefinite"><mpath href="#f3"/></animateMotion>
  </circle>
  <!-- Second wave -->
  <circle r="3" fill="#FF9900" opacity="0.5">
    <animateMotion dur="1.8s" begin="0.9s" repeatCount="indefinite"><mpath href="#f1"/></animateMotion>
  </circle>
  <circle r="3" fill="#FF9900" opacity="0.5">
    <animateMotion dur="1.8s" begin="1.2s" repeatCount="indefinite"><mpath href="#f2"/></animateMotion>
  </circle>
  <circle r="3" fill="#FF9900" opacity="0.5">
    <animateMotion dur="1.8s" begin="1.5s" repeatCount="indefinite"><mpath href="#f3"/></animateMotion>
  </circle>

  <!-- ===== NODE 1: Firehose (flame) ===== -->
  <g transform="translate(115, 160)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#FF9900" stroke-width="1.5"/>
    <g transform="scale(0.8) translate(-12, -12)">
      <path d="M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z" fill="#FF9900"/>
    </g>
  </g>

  <!-- ===== NODE 2: Lambda ===== -->
  <g transform="translate(305, 160)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#FF9900" stroke-width="1.5"/>
    <g transform="scale(0.8) translate(-12, -12)">
      <path d="M4.9855 0c-.2941.0031-.5335.2466-.534.5482L4.446 5.456c0 .1451.06.2835.159.3891a.5322.5322 0 0 0 .3806.1562h3.4282l8.197 17.6805a.5365.5365 0 0 0 .4885.3181h5.811c.2969 0 .5426-.2448.5426-.5482V18.544c0-.3035-.2392-.5482-.5425-.5482h-2.0138L12.7394.3153C12.647.124 12.4564 0 12.2452 0h-7.254Zm.5397 1.0907h6.3678l8.16 17.6804a.5365.5365 0 0 0 .4885.3181h1.8178v3.8173H17.437L9.2402 5.226a.536.536 0 0 0-.4885-.318H5.5223Zm2.0137 8.2366c-.2098.0011-.3937.1193-.4857.3096L.6002 23.2133a.5506.5506 0 0 0 .0313.5282.5334.5334 0 0 0 .4544.25h6.169a.5468.5468 0 0 0 .497-.3096l3.38-7.166a.5405.5405 0 0 0-.0029-.4686L8.036 9.637a.5468.5468 0 0 0-.4942-.3096Zm.0057 1.8036 2.488 5.1522-3.1214 6.6206H1.9465Z" fill="#FF9900"/>
    </g>
  </g>

  <!-- ===== NODE 3: S3 (bucket) ===== -->
  <g transform="translate(495, 160)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#569A31" stroke-width="1.5"/>
    <g transform="scale(0.8) translate(-12, -12)">
      <ellipse cx="12" cy="5.5" rx="7" ry="2.8" fill="#569A31" opacity="0.9"/>
      <rect x="5" y="5.5" width="14" height="13" fill="#569A31" opacity="0.5"/>
      <ellipse cx="12" cy="18.5" rx="7" ry="2.8" fill="#569A31" opacity="0.9"/>
      <ellipse cx="12" cy="12" rx="7" ry="2" fill="none" stroke="#161b22" stroke-width="0.8" opacity="0.4"/>
    </g>
  </g>

  <!-- ===== NODE 4: Redshift ===== -->
  <g transform="translate(685, 160)">
    <rect x="-25" y="-25" width="50" height="50" rx="12" fill="#161b22" stroke="#2F67D3" stroke-width="1.5"/>
    <g transform="scale(0.8) translate(-12, -12)">
      <path d="M16.639 9.932a.822.822 0 0 1-.822-.82.823.823 0 0 1 1.645 0c0 .452-.37.82-.823.82m-2.086 4.994a.823.823 0 0 1-.822-.822.822.822 0 0 1 1.645 0 .822.822 0 0 1-.823.822m-5.004-.833a.822.822 0 1 1 .002-1.644.822.822 0 0 1-.002 1.644m-2.083 4.578a.823.823 0 0 1-.823-.82.823.823 0 0 1 1.645 0c0 .452-.37.82-.822.82m9.173-11.236a1.68 1.68 0 0 0-1.68 1.676c0 .566.285 1.066.718 1.37l-.782 1.982a1.674 1.674 0 0 0-1.923 1.104l-1.753-.398a1.675 1.675 0 0 0-3.348.103c0 .432.169.823.438 1.12l-.764 1.79c-.028-.001-.053-.008-.08-.008a1.68 1.68 0 0 0-1.68 1.676 1.68 1.68 0 0 0 3.36 0c0-.593-.312-1.112-.778-1.41l.674-1.579c.161.052.33.088.508.088.661 0 1.228-.386 1.502-.94l1.856.42a1.68 1.68 0 0 0 3.327-.325c0-.5-.224-.943-.574-1.25l.822-2.083c.053.005.104.016.157.016a1.68 1.68 0 0 0 1.68-1.676 1.68 1.68 0 0 0-1.68-1.676M12 23.145c-4.17 0-7.286-1.252-7.286-2.37V4.79C6.14 5.938 9.131 6.547 12 6.547c2.869 0 5.86-.609 7.286-1.756v15.983c0 1.12-3.116 2.37-7.286 2.37M12 .856c4.293 0 7.286 1.274 7.286 2.419 0 1.143-2.993 2.418-7.286 2.418-4.293 0-7.286-1.275-7.286-2.418C4.714 2.129 7.707.855 12 .855m8.143 2.419C20.143 1.147 15.947 0 12 0 8.052 0 3.857 1.147 3.857 3.274l.002.01h-.002v17.49C3.857 22.87 8.052 24 12 24c3.947 0 8.143-1.13 8.143-3.226V3.284h-.002l.002-.01" fill="#2F67D3"/>
    </g>
  </g>

  <!-- ===== NODE LABELS ===== -->
  <text x="115" y="205" font-family="'Inter', sans-serif" font-size="11" fill="#8b949e" text-anchor="middle">Firehose</text>
  <text x="305" y="205" font-family="'Inter', sans-serif" font-size="11" fill="#8b949e" text-anchor="middle">Lambda</text>
  <text x="495" y="205" font-family="'Inter', sans-serif" font-size="11" fill="#8b949e" text-anchor="middle">S3</text>
  <text x="685" y="205" font-family="'Inter', sans-serif" font-size="11" fill="#8b949e" text-anchor="middle">Redshift</text>

  <!-- Arrow direction indicators -->
  <polygon points="278,155 286,160 278,165" fill="#30363d"/>
  <polygon points="468,155 476,160 468,165" fill="#30363d"/>
  <polygon points="658,155 666,160 658,165" fill="#30363d"/>

  <!-- Title -->
  <text x="400" y="370" font-family="'Inter', -apple-system, BlinkMacSystemFont, sans-serif" font-size="32" font-weight="700" fill="#e6edf3" text-anchor="middle">데이터 파이프라인</text>

  <!-- Accent line -->
  <line x1="340" y1="388" x2="460" y2="388" stroke="#FF9900" stroke-width="2" opacity="0.4" stroke-linecap="round"/>
</svg>
